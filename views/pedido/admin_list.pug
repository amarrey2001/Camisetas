extends ../layouts/main

block contenido
    style.
        /* Tarjetas de pedidos */
        .card {
            background-color: #1c1c1c;
            color: #f5f5f5;
            border: 1px solid #333;
            border-radius: 10px;
        }

        .card-header {
            background-color: #272727;
            color: #ffd700;
            font-weight: bold;
            border-bottom: 1px solid #444;
        }

        .card-body {
            background-color: #1c1c1c;
            color: #f5f5f5;
        }

        .form-select {
            background-color: #2c2c2c;
            color: #f5f5f5;
            border: 1px solid #444;
        }

        .form-select option {
            background-color: #2c2c2c;
            color: #f5f5f5;
        }

        .btn-primary {
            background-color: #007bff;
            border-color: #0056b3;
        }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #003f7f;
        }

        table.table {
            background-color: #1c1c1c;
            color: #f5f5f5;
        }

        table.table th, table.table td {
            border-color: #333;
        }

        table.table thead {
            background-color: #272727;
            color: #ffd700;
        }

    h2 Pedidos - Administrador.mt-4.mb-3

    each pedido in pedidos
        .card.mb-3
            .card-header.d-flex.justify-content-between.align-items-center
                div
                    strong Pedido #{pedido.id} - Cliente: #{pedido.username}
                form(method="POST", action=`/admin/pedido/${pedido.id}/estado`)
                    div.d-flex
                        select.form-select(name="estado")
                            option(value="carrito", selected=pedido.estado==='carrito') Carrito
                            option(value="pagado", selected=pedido.estado==='pagado') Pagado
                            option(value="procesando", selected=pedido.estado==='procesando') Procesando
                            option(value="procesado", selected=pedido.estado==='procesado') Procesado
                            option(value="enviado", selected=pedido.estado==='enviado') Enviado
                            option(value="recibido", selected=pedido.estado==='recibido') Recibido
                        button.btn.btn-primary.btn-sm.ms-2(type="submit") Cambiar
            .card-body
                p Fecha: #{pedido.fecha.toISOString().slice(0,10)} | Total: #{pedido.total} €
                if pedido.lineas && pedido.lineas.length > 0
                    table.table.table-sm.table-striped
                        thead
                            tr
                                th Camiseta
                                th Cantidad
                                th Precio
                                th Subtotal
                        tbody
                            each linea in pedido.lineas
                                tr
                                    td #{linea.marca} - #{linea.talla} (#{linea.color})
                                    td #{linea.cantidad}
                                    td #{linea.precio_unitario} €
                                    td #{linea.subtotal} €
